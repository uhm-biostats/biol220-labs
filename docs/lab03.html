<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Labs for Intro Biostatistics - 3&nbsp; Workikng with data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./lab02.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./lab03.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Workikng with data</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Labs for Intro Biostatistics</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Setup</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting started</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Graphics in R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab03.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Workikng with data</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#goals" id="toc-goals" class="nav-link active" data-scroll-target="#goals"><span class="header-section-number">3.1</span> Goals</a></li>
  <li><a href="#learning-the-tools" id="toc-learning-the-tools" class="nav-link" data-scroll-target="#learning-the-tools"><span class="header-section-number">3.2</span> Learning the Tools</a>
  <ul class="collapse">
  <li><a href="#structure-of-a-good-data-file" id="toc-structure-of-a-good-data-file" class="nav-link" data-scroll-target="#structure-of-a-good-data-file"><span class="header-section-number">3.2.1</span> Structure of a good data file</a></li>
  <li><a href="#creating-a-data-file" id="toc-creating-a-data-file" class="nav-link" data-scroll-target="#creating-a-data-file"><span class="header-section-number">3.2.2</span> Creating a data file</a></li>
  </ul></li>
  <li><a href="#questions" id="toc-questions" class="nav-link" data-scroll-target="#questions"><span class="header-section-number">3.3</span> Questions</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Workikng with data</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="goals" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="goals"><span class="header-section-number">3.1</span> Goals</h2>
<ul>
<li>Learn to create data files</li>
<li>Explore the importance of random sampling</li>
<li>Understand variance and standard deviation</li>
<li>Understand mean and median</li>
</ul>
<p>As will be the case with all labs, this lab will be completed using <em>Posit Cloud</em>. If needed, refer back to <a href="./index.html">“Setup”</a> and <a href="./lab01.html">“Lab 1”</a> for instructions on access and setting up your workspace for this lab. Here is the direct link to the <em>Posit Cloud</em> shared workspace for Lab 2: xyz.</p>
</section>
<section id="learning-the-tools" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="learning-the-tools"><span class="header-section-number">3.2</span> Learning the Tools</h2>
<section id="structure-of-a-good-data-file" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="structure-of-a-good-data-file"><span class="header-section-number">3.2.1</span> Structure of a good data file</h3>
<p>Data files appear in many formats, and different formats are sometimes preferable for different tasks. But there is one way to structure data — called “long” format — that is extremely useful for most things that you will want to do in statistics and <em>R</em>.</p>
<p>Long format is actually very simple. Every row in the data set is a unique individual. Every column is a variable being measured on those individuals.</p>
<p>For example, last week in Question 4 we looked at some data about the tongue and palate lengths of several species of bats. There were three variables in that data set, the species name, tongue length, and palate length. Here each “individual” is a species. Here is that data in long format—each row is an individual. There are three columns, one for each variable:</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">species</th>
<th style="text-align: right;">palate_length</th>
<th style="text-align: right;">tongue_length</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Lichonycteris obscura</td>
<td style="text-align: right;">10.0</td>
<td style="text-align: right;">36.1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Glossophaga comissarisi</td>
<td style="text-align: right;">10.7</td>
<td style="text-align: right;">26.6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Glossophaga soricina</td>
<td style="text-align: right;">11.4</td>
<td style="text-align: right;">30.2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Anoura caudifer</td>
<td style="text-align: right;">11.6</td>
<td style="text-align: right;">36.7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Hylonycteris underwoodi</td>
<td style="text-align: right;">13.4</td>
<td style="text-align: right;">36.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">Anoura geoffroyi</td>
<td style="text-align: right;">13.8</td>
<td style="text-align: right;">39.6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Lonchophylla robusta</td>
<td style="text-align: right;">14.3</td>
<td style="text-align: right;">42.6</td>
</tr>
<tr class="even">
<td style="text-align: left;">Anoura fistulata</td>
<td style="text-align: right;">12.4</td>
<td style="text-align: right;">85.2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Anoura cultrata</td>
<td style="text-align: right;">14.3</td>
<td style="text-align: right;">34.3</td>
</tr>
<tr class="even">
<td style="text-align: left;">Leptonycteris curosoae</td>
<td style="text-align: right;">16.0</td>
<td style="text-align: right;">40.2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Choeronycteris mexicana</td>
<td style="text-align: right;">18.0</td>
<td style="text-align: right;">52.1</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="creating-a-data-file" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="creating-a-data-file"><span class="header-section-number">3.2.2</span> Creating a data file</h3>
<p>When you have new data that you want to get into the computer in a format that <em>R</em> can read, it is often easiest to do this outside of <em>R</em>. A spreadsheet program like Excel (or a freely available program like Google Sheets) is a straightforward way to create a .csv file that <em>R</em> can read. For the lab today, we’ll use Google Sheets.</p>
<ol type="1">
<li><p>Log into Google Drive using your userid@hawaii.edu credentials.</p></li>
<li><p>Create a new Google Sheet</p></li>
</ol>
<p><img src="images/google-sheets-1.png" class="img-fluid"></p>
<ol start="3" type="1">
<li>Name the new sheet “BatTongues2”</li>
</ol>
<p><img src="images/google-sheets-2.png" class="img-fluid"></p>
<ol start="4" type="1">
<li>Enter data</li>
</ol>
<p>In the first row of your new spreadsheet, write your variable names, one for each column. (Be sure to give them good names that will work in <em>R</em> following principles of spreadsheet organized in Broman &amp; Woo (2018). Mainly, don’t have any spaces in a variable name and make sure that it doesn’t start with a number or contain punctuation marks. See Lab 01 for more about naming variables.)</p>
<p>On the rows immediately below that first row, enter the data for each individual, in the correct column. Here’s what the spreadsheet would look like for the bat data after they are entered:</p>
<p><img src="images/google-sheets-3.png" class="img-fluid"></p>
<ol start="5" type="1">
<li>Download as a .csv file. Go to “File &gt; Download &gt; Comma-spearate values (.csv, current sheet)”</li>
</ol>
<p><img src="images/google-sheets-4.png" class="img-fluid"> Save to the Desktop (or elsewhere that is convenient) as “BatTongues2.csv”</p>
<p><img src="images/google-sheets-5.png" class="img-fluid"></p>
<p>Saving a spreadsheet in a format that <em>R</em> can read is very straightforward. In these tutorials, we are using .csv files (which stands for <strong>c</strong>omma <strong>s</strong>eparated <strong>v</strong>alues).</p>
<ol start="6" type="1">
<li>Upload file to <em>RStudio Cloud</em></li>
</ol>
<p>In your lab03 project, click on the “data” directory under the Files tab:</p>
<p><img src="images/google-sheets-6.png" class="img-fluid"></p>
<p>Then click the Upload option:</p>
<p><img src="images/google-sheets-7.png" class="img-fluid"></p>
<p>You should see the following dialog box:</p>
<p><img src="images/google-sheets-8.png" class="img-fluid"></p>
<p>Click “Choose File” and navigate to where you saved “BatTongues2.csv” and select it.</p>
<p><img src="images/google-sheets-9.png" class="img-fluid"></p>
<p>Click OK. Then you should see “BatTongues2.csv” in your data directory.</p>
<p><img src="images/google-sheets-10.png" class="img-fluid"></p>
<p>Look at “BatTongues2.csv” in the <em>RStudio Cloud</em> viewer by clicking the file name and selecting “View File”</p>
<p><img src="images/google-sheets-11.png" class="img-fluid"></p>
<p>It should something like this:</p>
<p><img src="images/google-sheets-12.png" class="img-fluid"></p>
</section>
</section>
<section id="questions" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="questions"><span class="header-section-number">3.3</span> Questions</h2>
<ol type="1">
<li><p>Review: Import “BatTongues2.csv” using the <code>read.csv()</code>, name the data.frame <code>bat_tongues</code>, and make a scatterplot using the <strong>ggplot2</strong> package. It should look the same as last week unless you made a typo.</p></li>
<li><p>Calculate the sample variance and standard deviation.</p>
<p>The variance and standard deviation are common descriptions of the variability in a population. If we’re plotting the data in a histogram, these are associated with the spread of histogram. By convention the <em>population</em> variance and standard deviations are often denoted <span class="math inline">\(\sigma ^ 2\)</span> and <span class="math inline">\(\sigma\)</span>, respectively (<span class="math inline">\(\sigma\)</span>, pronounced “sig-ma”, is a lowercase Greek letter). The <em>sample</em> variance and standard deviations are often denoted <span class="math inline">\(s^2\)</span> and <span class="math inline">\(s\)</span>, respectively. In both cases, the standard deviation is simply the square root of the variance.</p>
<p>The equations for the sample variance and standard deviation are:</p>
<p><span class="math display">\[ s ^ 2 = \frac{\Sigma^{n}_{i=1} (Y_i - \bar{Y}) ^ 2}{n - 1} \]</span> <span class="math display">\[ s = \sqrt{\frac{\Sigma^{n}_{i=1} (Y_i - \bar{Y}) ^ 2}{n - 1}} \]</span></p>
<ol type="a">
<li><p>Calculate the sample variance of the <code>palate_length</code> variable. Note that if you named the column something other than <code>palate_length</code>, you will have to use your name. Here’s a couple hints to get started:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a vector and call it Y</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> bat_tongues<span class="sc">$</span>palate_length</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mean of Y</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>Y_bar <span class="ot">&lt;-</span> <span class="fu">mean</span>(Y)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the sample size, n</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(Y)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the squared deviations (Y_i - Y_bar) ^ 2</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>squared_devs <span class="ot">&lt;-</span> (Y <span class="sc">-</span> Y_bar) <span class="sc">^</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Once you’re done, you can check your answer using the <code>var()</code> function in <em>R</em></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(bat_tongues<span class="sc">$</span>palate_length)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Now calculate the standard deviation and check your result using the <code>sd()</code> function.</p></li>
</ol></li>
</ol>
<ol start="3" type="1">
<li><p>Learning when to use mean versus median. For this exercise, we’ll use a data set on leaf area from <a href="https://doi.org/10.1126/science.aal4760">Wright <em>et al.</em> 2017</a>.</p>
<ol type="a">
<li><p>Import the file “wright_etal_2017.csv” from the data directory using the <code>read.csv()</code> function. Call the data.frame <code>leafsize</code>.</p></li>
<li><p>Make a histogram of leaf size (units of cm<span class="math inline">\(^2\)</span>) using <strong>ggplot2</strong>. The variable name is <code>leafsize_cm2</code>. It should look something like this: <img src="images/lab03-q3b.png" class="img-fluid"></p></li>
<li><p>Describe the distribution of leaf size. Do you expect the mean or median to be larger? Check your answer using the <code>mean()</code> and <code>median()</code> functions. Make sure to use the <code>na.rm = TRUE</code> argument to ignore missing data. Which value would you use to describe the location (aka central tendency) of leaf size in this data set?</p></li>
<li><p>Now let’s look at the power of log-transformation. First, use the <code>+ scale_x_log10()</code> function in <strong>ggplot2</strong> to plot leaf size on a log<span class="math inline">\(_{10}\)</span>-transformed scale. Modify your previous histogram using this function. The output should look something like this: <img src="images/lab03-q3d.png" class="img-fluid"></p></li>
<li><p>Now describe the shape of this distribution. Would you expect the mean or median to be higher? Check your guesses by first creating a new column called <code>log10_leafsize_cm2</code>. Hint: you’ll need to use the <code>$</code> operator and the <code>log(..., base = 10)</code> or <code>log10(...)</code> functions. Then use <code>mean()</code> and <code>median()</code> on the new column.</p></li>
<li><p>Now, would you still use the same function (<code>mean()</code> or <code>median()</code>) you selected in part c.&nbsp;to describe the location of the <em>log-transformed</em> leaf size? Explain your answer.</p></li>
</ol></li>
</ol>
<ol start="4" type="1">
<li><p>Make a random sample.</p>
<p>Let’s assume that the data set represents the entire population of leaf sizes in the world (it doesn’t, but let’s just assume). Now we’ll look at the property of random samples from this population.</p>
<ol type="a">
<li><p>To make our lives simpler, let’s first filter out the missing values using the <code>subset()</code> function.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>leafsize1 <span class="ot">&lt;-</span> <span class="fu">subset</span>(leafsize, <span class="sc">!</span><span class="fu">is.na</span>(leafsize_cm2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note how we now have two data frames, <code>leafsize</code> and <code>leafsize1</code>. <code>leafsize1</code> has all the same columns as the original, but without rows containing missing values. The command <code>!is.na()</code> (pronounced “bang! is-dot-na”) tells <code>subset</code> which values are NOT <code>NA</code>. In <em>R</em>, <code>!</code> (“bang!”) means NOT.</p></li>
<li><p>What is the sample size now? You can use the <code>nrow()</code> function to figure this out. Assign the output of <code>nrow</code> to a variable named <code>n_leaves</code>.</p></li>
<li><p>To take a random sample, all members of the population must have the same chance of being chosen for our sample. In <em>R</em>, the function <code>sample()</code> can randomly choose integers from a given range. For example, to randomly sample 5 individuals from 25 possibilities, we can use:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(<span class="dv">25</span>, <span class="at">size =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now randomly sample 5 leaf sizes and assign the output to a vector called <code>i</code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="fu">sample</span>(n_leaves, <span class="at">size =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>The square brackets <code>[ ]</code> in <em>R</em> let you extract portions of a vector. Extract the values of the random leaves you sampled using the square brackets and assign the output as <code>leafsize1_sample</code>; you can run the following code:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>leafsize1_sample <span class="ot">&lt;-</span> leafsize1<span class="sc">$</span>leafsize_cm2[i]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Use <em>R</em> to calculate the mean of the leaf sizes for these 5 leaves in your random sample. The result is an estimate of the mean leaf size in your population.</p></li>
<li><p>Make another random sample of 5 leaves, and calculate the mean of this sample. Did you get a different number from the mean of the first sample? Why do you think the second sample mean is different from the first?</p></li>
</ol></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./lab02.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Graphics in R</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->



</body></html>